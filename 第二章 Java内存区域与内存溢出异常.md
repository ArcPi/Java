# 第二章 Java内存区域与内存溢出异常

## 2.2 运行时数据区域

![image-20200707161626082](第二章 Java内存区域与内存溢出异常.assets/image-20200707161626082.png)

Java运行时，会将管理的内存分为以上几个区域。

### 2.2.1 程序计数器(线程私有)

这个程序技术器的概念和计算机组成原理里边的程序计数器的概念差不多。

区别在于真实的程序计数器计数的是指令内存地址

Java程序技术器计数的是字节码的行号

如果线程正在执行Java的方法，那么程序计数器指示的就是字节码行号

如果线程正在执行Native方法，那么程序计数器的指示为空(Undefined)

**程序计数器这块内存区域，是唯一没有OutOfMemoryError**的情况

### 2.2.2 Java虚拟机栈(线程私有)

虚拟机栈描述的是Java方法执行的内存模型。Java程序员常说的栈就是Java虚拟机栈，或者指的是Java虚拟机栈里边的局部变量表。

这个部分的区域会报两种异常：一个是StackOverFlowError(虚拟机栈不可以动态扩展的情况)，一个是outofmemoryError异常(这个是虚拟机栈可以动态扩展的情况)

### 2.2.3 本地方法栈(线程私有)

本地方法栈描述描述的是本地方法执行的内存模型。本地方法栈也会抛出stackoverflowError和outofmemoryError。

### 2.2.4 Java堆

**Java堆是java虚拟机管理的内存中的最大一块。Java堆是被所有线程所共享的一块内存区域**

从内存回收的角度来看，现在收集器基本采用分代收集算法，按照这个方法分类，可以分为：新生代和老年代。

Java对可以处在物理